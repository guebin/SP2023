{"title":"05wk-1: 마코프체인 (1)","markdown":{"yaml":{"title":"05wk-1: 마코프체인 (1)","author":"최규빈","date":"03/30/2023","bibliography":"ref.bib","title-block-style":"none","title-block-banner":false},"headingText":"강의영상","containsRefs":false,"markdown":"\n\n\n> youtube: <https://youtube.com/playlist?list=PLQqh36zP38-xlV_TS7zhmYyyYNKv8np4W>\n\n# 확률벡터 \n\n`-` 확률변수와 확률벡터 \n\n- 확률변수 $X: (\\Omega,{\\cal F}) \\to (\\mathbb{R},{\\cal R})$\n- 확률벡터 ${\\boldsymbol X}: (\\Omega,{\\cal F}) \\to (\\mathbb{R}^d,{\\cal R}^d)$\n\n`-` 기호표현1\n\n- 확률변수: $X(\\omega)=x$\n- 확률벡터: ${\\boldsymbol X}(\\omega)=(x_1,x_2,\\dots,x_d)$ \n\n> 여기에서 $(x_1,x_2,\\dots,x_d)$는 col-vec, row-vec 구분 없이 길이가 $d$인 vector 라고 생각한다. 언제든 편의에 따라 row-vector 혹은 col-vector로 해석할 수 있다. \n\n`-` 기호표현2\n\n- 확률변수 $X$ \n- 확률벡터 ${\\boldsymbol X}=(X_1,X_2,\\dots,X_d)$, 여기에서 $X_1,X_2,\\dots, X_d$는 각각 r.v. \n\n`-` 기호표현3 (외우세요!!)\n\n- ${\\boldsymbol X}(\\omega) = (X_1,X_2,\\dots,X_d)(\\omega) = \\big(X_1(\\omega),X_2(\\omega),\\dots,X_d(\\omega)\\big)=(x_1,x_2,\\dots,x_d)$\n\n**(예제1)** 동전을 2회 던지자!\n\n`1`. outcomes: $HH, HT, TH, TT$\n\n`2`. sample space: $\\Omega = \\{HH, HT, TH, TT\\}$\n\n`3`. event: $\\emptyset, \\{HH\\}, \\{HT\\}, \\{TH\\}, \\{TT\\}, \\{HH,HT\\}, \\dots, \\Omega$\n\n`4`. $\\sigma$-field: ${\\cal F}=2^{\\Omega}$\n\n`5`. probability measure function: $P: \\Omega \\to [0,1]$ such that \n\n- $P(\\emptyset) = 0$\n- $P(HH) = \\frac{1}{4}$\n- $P(HT) = \\frac{1}{4}$\n- $P(TH) = \\frac{1}{4}$\n- $P(TT) = \\frac{1}{4}$\n- $P(\\{HH,HT\\}) = \\frac{1}{2}$\n- $\\dots$\n- $P(\\Omega) = 1$\n\n`6`. random vector: $\\boldsymbol{X}: \\Omega \\to \\mathbb{R}^2$ such that \n\n- ${\\boldsymbol X}(HH) = (1,1)$\n- ${\\boldsymbol X}(HT) = (1,0)$\n- ${\\boldsymbol X}(TH) = (0,1)$\n- ${\\boldsymbol X}(TT) = (0,0)$\n\n\n***6의 다른표현들*** \n\n- ${\\boldsymbol X}(\\omega_1) = (X_1,X_2)(\\omega_1) = \\big(X_1(\\omega_1),X_2(\\omega_1)\\big) =(1,1)$\n- ${\\boldsymbol X}(\\omega_2) = (X_1,X_2)(\\omega_2) = \\big(X_1(\\omega_2),X_2(\\omega_2)\\big) =(1,0)$\n- ${\\boldsymbol X}(\\omega_3) = (X_1,X_2)(\\omega_3) = \\big(X_1(\\omega_3),X_2(\\omega_3)\\big) =(0,1)$\n- ${\\boldsymbol X}(\\omega_4) = (X_1,X_2)(\\omega_4) = \\big(X_1(\\omega_4),X_2(\\omega_4)\\big) =(0,0)$\n\n# 확률벡터의 평균 ($\\star$)\n\n## 확률변수의 평균 \n\n`-` 예제1: 동전을 던지는 예제 \n\n|$\\omega$|$x=X(\\omega)$|$P(X=x)$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$0$|$\\frac{1}{2}$|\n|$\\omega_2$|$1$|$\\frac{1}{2}$|\n\n$$\\therefore E(X)=\\sum_{x=0}^{1}x P(X=x) = \\big(0\\times \\frac{1}{2} + 1 \\times \\frac{1}{2} \\big)=\\frac{1}{2}(0+1)$$\n\n`-` 예제2: 주사위를 던지는 예제 \n\n|$\\omega$|$x=X(\\omega)$|$P(X=x)$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$1$|$\\frac{1}{6}$|\n|$\\omega_2$|$2$|$\\frac{1}{6}$|\n|$\\omega_3$|$3$|$\\frac{1}{6}$|\n|$\\omega_4$|$4$|$\\frac{1}{6}$|\n|$\\omega_5$|$5$|$\\frac{1}{6}$|\n|$\\omega_6$|$6$|$\\frac{1}{6}$|\n\n$$\\therefore E(X)=\\sum_{x=1}^{6}xP(X=x)=\\frac{1}{6}(1+2+3+4+5+6)=3$$\n\n## 확률벡터의 평균 \n\n`-` 예제1: 동전을 2회 던지는 예제 \n\n|$\\omega$|${\\boldsymbol x}={\\boldsymbol X}(\\omega)$|$P({\\boldsymbol X}={\\boldsymbol x})$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$\\begin{bmatrix} 0 \\\\ 0 \\end{bmatrix}$|$\\frac{1}{4}$|\n|$\\omega_2$|$\\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}$|$\\frac{1}{4}$|\n|$\\omega_1$|$\\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$|$\\frac{1}{4}$|\n|$\\omega_2$|$\\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}$|$\\frac{1}{4}$|\n\n$$\\therefore E({\\boldsymbol X})=\\frac{1}{4}\\left(\\begin{bmatrix} 0 \\\\ 0 \\end{bmatrix}+\\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}+\\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}+\\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}\\right)=\\begin{bmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\end{bmatrix} = \\begin{bmatrix} E(X_1)\\\\ E(X_2) \\end{bmatrix}$$\n\n> $E(X_1)=E(X_2)$인 이유?? `iid` 이니까~\n\n`-` 예제2: 동전을 10회 던지는 예제\n\n|$\\omega$|${\\boldsymbol x}={\\boldsymbol X}(\\omega)$|$P({\\boldsymbol X}={\\boldsymbol x})$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$[0,0,\\dots,0]^\\top$|$\\frac{1}{2^{10}}$|\n|$\\omega_2$|$[0,0,\\dots,1]^\\top$|$\\frac{1}{2^{10}}$|\n|$\\dots$|$\\dots$|$\\dots$|\n|$\\omega_{1024}$|$[1,1,\\dots,1]^\\top$|$\\frac{1}{2^{10}}$|\n\n$$\\therefore E({\\boldsymbol X})=\\begin{bmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\\\ \\dots \\\\ \\frac{1}{2} \\end{bmatrix} = \\begin{bmatrix} E(X_1)\\\\ E(X_2) \\\\ \\dots \\\\ E(X_{10}) \\end{bmatrix}$$\n\n# 시간평균, 앙상블평균\n\n## motivating example\n\n`-` 예제1: 동전을 1000번 던지는 예제를 상상하자. 앞면이 나올 확률은 $p$이며 이 $p$는 0.5인지 모른다고 가정하자. \n\n- 이것은 적당한 $\\omega$에 맵핑되어있는 하나의 realization 이다. \n\n`-` 질문: unknown_probability는 얼마일까?? \n\n`-` 비판: 문제 이상하게 푼다?\n\n|$\\omega$|${\\boldsymbol x}={\\boldsymbol X}(\\omega)$|$P({\\boldsymbol X}={\\boldsymbol x})$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$[0,0,\\dots,0]^\\top$|$\\frac{1}{2^{1000}}$|\n|$\\omega_2$|$[0,0,\\dots,1]^\\top$|$\\frac{1}{2^{1000}}$|\n|$\\dots$|$\\dots$|$\\dots$|\n|$\\omega_{2^{1000}}$|$[1,1,\\dots,1]^\\top$|$\\frac{1}{2^{1000}}$|\n\n$$\\therefore E({\\boldsymbol X})= \\begin{bmatrix} E(X_1)\\\\ E(X_2) \\\\ \\dots \\\\ E(X_{1000}) \\end{bmatrix}$$\n\n- $E(X_{1000})=\\frac{1}{2^{1000}}\\big(\\text{대충 0 혹은 1이 있는 숫자들을 더한것}\\big)=p$\n\n***따라서 개념상으로는 아래와 같이 시뮬레이션하여 구하는게 옳음***\n\n좀 더 많이... \n\n## 용어정리의 시간 \n\n`-` 확률변수열을 표현할 때 $i$대신 $t$로 바꾼다면?\n\n- $X_1,X_2,X_3,\\dots, X_i, \\dots, X_n$ $\\Rightarrow$ $X_1,X_2,X_3\\dots,X_t,\\dots X_T$\n- $E(X_i)$ $\\Rightarrow$ $E(X_t)$\n- $\\frac{1}{n}\\sum_{i=1}^{n}X_i$ $\\Rightarrow$ $\\frac{1}{T}\\sum_{t=1}^{T}X_t$\n\n`-` 용어: $E(X_t)$를 앙상블평균 (ensemble average) 이라고 하고, $\\frac{1}{T}\\sum_{t=1}^{T}X_t$를 시간평균 (time average) 이라고 한다. \n\n## 생각의 시간 (1)\n\n`-` 원래 $E(X_{1000})$은 $\\frac{1}{T}\\sum_{t=1}^{T}X_t$와 같은 방식으로 근사계산할 수 없긴해. (말도 안되는 소리임..) \n\n`-` 예제1: 아래와 같은 확률변수열를 고려하자. \n\n- $X_1 \\sim Ber(0.5)$. \n- $X_t= X_{t-1}$ for $t=2,3,4,\\dots, 1000$. \n\n$E(X_{1000})$을 구하여라. $E(X_{1000})$을 $\\frac{1}{T}\\sum_{t=1}^T X_t$와 같은 방식으로 근사할 수 있는가? \n\n(풀이)\n\n$E(X_{1000})=0.5$임. 하지만 $\\frac{1}{T}\\sum_{t=1}^{T}X_t$로 $E(X_{1000})$을 근사할 수 없음. \n\n**시뮬1 -- calculating time average of one-sample $(x_1,\\dots,x_{1000})$**\n\n**시뮬2 -- approximating ensemble average with 43052 samples**\n\n`-` 하지만 사실 `iid`가정이 있다면 앙상블평균을 시간평균으로 추정해도 문제 없어. \n\n`-` 예제2: 서로 독립인 1000개의 확률변수를 $N(0,1)$에서 뽑는다고 하자. \n\n- $X_t=\\epsilon_t \\overset{i.i.d.}{\\sim} N(0,1)$\n\n이때는 $E(X_{1000})$을 $\\frac{1}{T}\\sum_{t=1}^T X_t$와 같은 방식으로 근사할 수 있다.\n\n**시뮬1 -- calculating time average of one-sample $(x_1,\\dots,x_{1000})$**\n\n**시뮬2 -- approximating ensemble average with 43052 samples**\n\n`-` 결론: 원래 time-average와 ensemble-average는 \"전혀\" 다른 개념이다. 그런데, 확률변수열이 iid일 경우는 time-average로 ensemble-average를 근사계산 할 수 있다. \n\n`-` 아래의 그림은 time-average와 ensemble-average의 차이를 파악하기 용이한 예제이다. \n\n![그림1: Davidson (1994) 에서 발췌한 그림.](attachment:6ca8ec20-c415-4bb7-b2b1-ff941fa33047.png)\n\n## AR(1)\n\n`-` 예제3: $\\epsilon_t \\overset{i.i.d.}{\\sim} N(0,1)$ 일 때, 아래와 같은 확률변수 열을 고려하자. \n\n- $X_1=\\epsilon_1$\n- $X_t=\\frac{7}{8}X_{t-1} + \\epsilon_t$ for $t=2,3,\\dots,T$\n\n이때 $E(X_{T})$을 $\\frac{1}{T}\\sum_{t=1}^T X_t$와 같은 방식으로 근사할 수 있을까?\n\n(풀이)\n\n우선 독립인지 아닌지 체크해보자. \n\n***check: $X_t$와 $X_{t-1}$은 독립??***\n\n- corr이 있음.. $\\Rightarrow$ 독립아님 $\\Rightarrow$ ensemble-average를 time-average로 근사할 수 없다??\n\n---\n\n*참고로 독립이라면~*\n\n---\n\n**시뮬1 -- calculating time average of one-sample $(x_1,\\dots,x_{T})$**\n\n**시뮬2 -- approximating ensemble average with 43052 samples**\n\n근사 되는 것 같은데..?\n\n## 생각의 시간 (2)\n\n`-` 확률변수는 값이 랜덤으로 바뀌는 변수느낌이 아니라 $X: \\Omega \\to \\mathbb{R}$ 인 잴 수 있는 함수임. \n\n`-` 확률벡터는 값이 랜덤으로 바뀌는 벡터느낌이 아니라 $X: \\Omega \\to \\mathbb{R}^d$ 인 잴 수 있는 함수임. \n\n`-` 동전을 반복하여 던져서 관측한 아래와 같은 확률변수열(=확률벡터) \n\n$$0,1,0,0,1,1,\\dots,1$$\n\n은 어떠한 $\\omega \\in \\Omega$에 대응하는 하나의 realization ${\\boldsymbol X}(\\omega)={\\boldsymbol x}$ 임. (즉 one-sample임) \n\n`-` 그런데 확률변수열을 독립으로 얻었다면 이러한 one-sample을 쪼개서 마치 여러개의 샘플을 얻은것처럼 생각할 수 있으며 이때\n\n$$E(X_T)\\approx \\frac{1}{T}\\sum_{t=1}^{T}X_t$$\n\n와 같은 방식으로 근사할 수 있음. \n\n`-` 사실상 $E(X_1)=E(X_2)=\\dots=E(X_T) \\approx \\frac{1}{T}\\sum_{t=1}^{T}X_t$ 이므로 ($\\because$ iid) 결국 아직 관측되지 않은 미래시점 $T+1$의 값에 대해서도 \n\n$$E(X_{T+1}) \\approx \\frac{1}{T}\\sum_{t=1}^T X_t$$ \n\n라고 주장할 수 있음. \n\n`-` 이렇게 one-sample을 여러개의 조각으로 쪼개는 기법은 `iid`에서만 성립할 것 같음. 만약에 `iid`가정이 없다면 (시뮬2)와 같은 방식으로 여러샘플을 통하여 ensemble-average를 근사시켜야 함. 정리하면 아래와 같음. \n\n1. one-sample만 관측가능, iid 조건 만족 $\\Rightarrow$ 분석가능 \n2. 여러개의 sample 관측가능 , iid 조건 만족 $\\Rightarrow$ 분석가능 \n3. one-sample만 관측가능, iid 조건 만족하지 않음 $\\Rightarrow$ 분석불가능??\n4. 여러개의 sample 관측가능 , iid 조건 만족하지 않음 $\\Rightarrow$ 분석가능 \n\n`-` 문제: 그런데 실제로 우리가 다루고 싶은 자료의 형태는 3의 경우가 많다. \n\n`-` 소망: 그래서 `iid`가 아니지만 마치 `iid`인것 처럼 one-sample을 가지고 분석하고 싶다. \n\n> 앞으로 해야 할 것: 독립인듯 독립아닌 독립같은 확률과정은 없을까? \n\n---\n\n***독립인듯 독립아닌 독립같은 확률과정***\n","srcMarkdownNoYaml":"\n\n# 강의영상 \n\n> youtube: <https://youtube.com/playlist?list=PLQqh36zP38-xlV_TS7zhmYyyYNKv8np4W>\n\n# 확률벡터 \n\n`-` 확률변수와 확률벡터 \n\n- 확률변수 $X: (\\Omega,{\\cal F}) \\to (\\mathbb{R},{\\cal R})$\n- 확률벡터 ${\\boldsymbol X}: (\\Omega,{\\cal F}) \\to (\\mathbb{R}^d,{\\cal R}^d)$\n\n`-` 기호표현1\n\n- 확률변수: $X(\\omega)=x$\n- 확률벡터: ${\\boldsymbol X}(\\omega)=(x_1,x_2,\\dots,x_d)$ \n\n> 여기에서 $(x_1,x_2,\\dots,x_d)$는 col-vec, row-vec 구분 없이 길이가 $d$인 vector 라고 생각한다. 언제든 편의에 따라 row-vector 혹은 col-vector로 해석할 수 있다. \n\n`-` 기호표현2\n\n- 확률변수 $X$ \n- 확률벡터 ${\\boldsymbol X}=(X_1,X_2,\\dots,X_d)$, 여기에서 $X_1,X_2,\\dots, X_d$는 각각 r.v. \n\n`-` 기호표현3 (외우세요!!)\n\n- ${\\boldsymbol X}(\\omega) = (X_1,X_2,\\dots,X_d)(\\omega) = \\big(X_1(\\omega),X_2(\\omega),\\dots,X_d(\\omega)\\big)=(x_1,x_2,\\dots,x_d)$\n\n**(예제1)** 동전을 2회 던지자!\n\n`1`. outcomes: $HH, HT, TH, TT$\n\n`2`. sample space: $\\Omega = \\{HH, HT, TH, TT\\}$\n\n`3`. event: $\\emptyset, \\{HH\\}, \\{HT\\}, \\{TH\\}, \\{TT\\}, \\{HH,HT\\}, \\dots, \\Omega$\n\n`4`. $\\sigma$-field: ${\\cal F}=2^{\\Omega}$\n\n`5`. probability measure function: $P: \\Omega \\to [0,1]$ such that \n\n- $P(\\emptyset) = 0$\n- $P(HH) = \\frac{1}{4}$\n- $P(HT) = \\frac{1}{4}$\n- $P(TH) = \\frac{1}{4}$\n- $P(TT) = \\frac{1}{4}$\n- $P(\\{HH,HT\\}) = \\frac{1}{2}$\n- $\\dots$\n- $P(\\Omega) = 1$\n\n`6`. random vector: $\\boldsymbol{X}: \\Omega \\to \\mathbb{R}^2$ such that \n\n- ${\\boldsymbol X}(HH) = (1,1)$\n- ${\\boldsymbol X}(HT) = (1,0)$\n- ${\\boldsymbol X}(TH) = (0,1)$\n- ${\\boldsymbol X}(TT) = (0,0)$\n\n\n***6의 다른표현들*** \n\n- ${\\boldsymbol X}(\\omega_1) = (X_1,X_2)(\\omega_1) = \\big(X_1(\\omega_1),X_2(\\omega_1)\\big) =(1,1)$\n- ${\\boldsymbol X}(\\omega_2) = (X_1,X_2)(\\omega_2) = \\big(X_1(\\omega_2),X_2(\\omega_2)\\big) =(1,0)$\n- ${\\boldsymbol X}(\\omega_3) = (X_1,X_2)(\\omega_3) = \\big(X_1(\\omega_3),X_2(\\omega_3)\\big) =(0,1)$\n- ${\\boldsymbol X}(\\omega_4) = (X_1,X_2)(\\omega_4) = \\big(X_1(\\omega_4),X_2(\\omega_4)\\big) =(0,0)$\n\n# 확률벡터의 평균 ($\\star$)\n\n## 확률변수의 평균 \n\n`-` 예제1: 동전을 던지는 예제 \n\n|$\\omega$|$x=X(\\omega)$|$P(X=x)$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$0$|$\\frac{1}{2}$|\n|$\\omega_2$|$1$|$\\frac{1}{2}$|\n\n$$\\therefore E(X)=\\sum_{x=0}^{1}x P(X=x) = \\big(0\\times \\frac{1}{2} + 1 \\times \\frac{1}{2} \\big)=\\frac{1}{2}(0+1)$$\n\n`-` 예제2: 주사위를 던지는 예제 \n\n|$\\omega$|$x=X(\\omega)$|$P(X=x)$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$1$|$\\frac{1}{6}$|\n|$\\omega_2$|$2$|$\\frac{1}{6}$|\n|$\\omega_3$|$3$|$\\frac{1}{6}$|\n|$\\omega_4$|$4$|$\\frac{1}{6}$|\n|$\\omega_5$|$5$|$\\frac{1}{6}$|\n|$\\omega_6$|$6$|$\\frac{1}{6}$|\n\n$$\\therefore E(X)=\\sum_{x=1}^{6}xP(X=x)=\\frac{1}{6}(1+2+3+4+5+6)=3$$\n\n## 확률벡터의 평균 \n\n`-` 예제1: 동전을 2회 던지는 예제 \n\n|$\\omega$|${\\boldsymbol x}={\\boldsymbol X}(\\omega)$|$P({\\boldsymbol X}={\\boldsymbol x})$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$\\begin{bmatrix} 0 \\\\ 0 \\end{bmatrix}$|$\\frac{1}{4}$|\n|$\\omega_2$|$\\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}$|$\\frac{1}{4}$|\n|$\\omega_1$|$\\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}$|$\\frac{1}{4}$|\n|$\\omega_2$|$\\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}$|$\\frac{1}{4}$|\n\n$$\\therefore E({\\boldsymbol X})=\\frac{1}{4}\\left(\\begin{bmatrix} 0 \\\\ 0 \\end{bmatrix}+\\begin{bmatrix} 0 \\\\ 1 \\end{bmatrix}+\\begin{bmatrix} 1 \\\\ 0 \\end{bmatrix}+\\begin{bmatrix} 1 \\\\ 1 \\end{bmatrix}\\right)=\\begin{bmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\end{bmatrix} = \\begin{bmatrix} E(X_1)\\\\ E(X_2) \\end{bmatrix}$$\n\n> $E(X_1)=E(X_2)$인 이유?? `iid` 이니까~\n\n`-` 예제2: 동전을 10회 던지는 예제\n\n|$\\omega$|${\\boldsymbol x}={\\boldsymbol X}(\\omega)$|$P({\\boldsymbol X}={\\boldsymbol x})$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$[0,0,\\dots,0]^\\top$|$\\frac{1}{2^{10}}$|\n|$\\omega_2$|$[0,0,\\dots,1]^\\top$|$\\frac{1}{2^{10}}$|\n|$\\dots$|$\\dots$|$\\dots$|\n|$\\omega_{1024}$|$[1,1,\\dots,1]^\\top$|$\\frac{1}{2^{10}}$|\n\n$$\\therefore E({\\boldsymbol X})=\\begin{bmatrix} \\frac{1}{2} \\\\ \\frac{1}{2} \\\\ \\dots \\\\ \\frac{1}{2} \\end{bmatrix} = \\begin{bmatrix} E(X_1)\\\\ E(X_2) \\\\ \\dots \\\\ E(X_{10}) \\end{bmatrix}$$\n\n# 시간평균, 앙상블평균\n\n## motivating example\n\n`-` 예제1: 동전을 1000번 던지는 예제를 상상하자. 앞면이 나올 확률은 $p$이며 이 $p$는 0.5인지 모른다고 가정하자. \n\n- 이것은 적당한 $\\omega$에 맵핑되어있는 하나의 realization 이다. \n\n`-` 질문: unknown_probability는 얼마일까?? \n\n`-` 비판: 문제 이상하게 푼다?\n\n|$\\omega$|${\\boldsymbol x}={\\boldsymbol X}(\\omega)$|$P({\\boldsymbol X}={\\boldsymbol x})$|\n|:-:|:-:|:-:|\n|$\\omega_1$|$[0,0,\\dots,0]^\\top$|$\\frac{1}{2^{1000}}$|\n|$\\omega_2$|$[0,0,\\dots,1]^\\top$|$\\frac{1}{2^{1000}}$|\n|$\\dots$|$\\dots$|$\\dots$|\n|$\\omega_{2^{1000}}$|$[1,1,\\dots,1]^\\top$|$\\frac{1}{2^{1000}}$|\n\n$$\\therefore E({\\boldsymbol X})= \\begin{bmatrix} E(X_1)\\\\ E(X_2) \\\\ \\dots \\\\ E(X_{1000}) \\end{bmatrix}$$\n\n- $E(X_{1000})=\\frac{1}{2^{1000}}\\big(\\text{대충 0 혹은 1이 있는 숫자들을 더한것}\\big)=p$\n\n***따라서 개념상으로는 아래와 같이 시뮬레이션하여 구하는게 옳음***\n\n좀 더 많이... \n\n## 용어정리의 시간 \n\n`-` 확률변수열을 표현할 때 $i$대신 $t$로 바꾼다면?\n\n- $X_1,X_2,X_3,\\dots, X_i, \\dots, X_n$ $\\Rightarrow$ $X_1,X_2,X_3\\dots,X_t,\\dots X_T$\n- $E(X_i)$ $\\Rightarrow$ $E(X_t)$\n- $\\frac{1}{n}\\sum_{i=1}^{n}X_i$ $\\Rightarrow$ $\\frac{1}{T}\\sum_{t=1}^{T}X_t$\n\n`-` 용어: $E(X_t)$를 앙상블평균 (ensemble average) 이라고 하고, $\\frac{1}{T}\\sum_{t=1}^{T}X_t$를 시간평균 (time average) 이라고 한다. \n\n## 생각의 시간 (1)\n\n`-` 원래 $E(X_{1000})$은 $\\frac{1}{T}\\sum_{t=1}^{T}X_t$와 같은 방식으로 근사계산할 수 없긴해. (말도 안되는 소리임..) \n\n`-` 예제1: 아래와 같은 확률변수열를 고려하자. \n\n- $X_1 \\sim Ber(0.5)$. \n- $X_t= X_{t-1}$ for $t=2,3,4,\\dots, 1000$. \n\n$E(X_{1000})$을 구하여라. $E(X_{1000})$을 $\\frac{1}{T}\\sum_{t=1}^T X_t$와 같은 방식으로 근사할 수 있는가? \n\n(풀이)\n\n$E(X_{1000})=0.5$임. 하지만 $\\frac{1}{T}\\sum_{t=1}^{T}X_t$로 $E(X_{1000})$을 근사할 수 없음. \n\n**시뮬1 -- calculating time average of one-sample $(x_1,\\dots,x_{1000})$**\n\n**시뮬2 -- approximating ensemble average with 43052 samples**\n\n`-` 하지만 사실 `iid`가정이 있다면 앙상블평균을 시간평균으로 추정해도 문제 없어. \n\n`-` 예제2: 서로 독립인 1000개의 확률변수를 $N(0,1)$에서 뽑는다고 하자. \n\n- $X_t=\\epsilon_t \\overset{i.i.d.}{\\sim} N(0,1)$\n\n이때는 $E(X_{1000})$을 $\\frac{1}{T}\\sum_{t=1}^T X_t$와 같은 방식으로 근사할 수 있다.\n\n**시뮬1 -- calculating time average of one-sample $(x_1,\\dots,x_{1000})$**\n\n**시뮬2 -- approximating ensemble average with 43052 samples**\n\n`-` 결론: 원래 time-average와 ensemble-average는 \"전혀\" 다른 개념이다. 그런데, 확률변수열이 iid일 경우는 time-average로 ensemble-average를 근사계산 할 수 있다. \n\n`-` 아래의 그림은 time-average와 ensemble-average의 차이를 파악하기 용이한 예제이다. \n\n![그림1: Davidson (1994) 에서 발췌한 그림.](attachment:6ca8ec20-c415-4bb7-b2b1-ff941fa33047.png)\n\n## AR(1)\n\n`-` 예제3: $\\epsilon_t \\overset{i.i.d.}{\\sim} N(0,1)$ 일 때, 아래와 같은 확률변수 열을 고려하자. \n\n- $X_1=\\epsilon_1$\n- $X_t=\\frac{7}{8}X_{t-1} + \\epsilon_t$ for $t=2,3,\\dots,T$\n\n이때 $E(X_{T})$을 $\\frac{1}{T}\\sum_{t=1}^T X_t$와 같은 방식으로 근사할 수 있을까?\n\n(풀이)\n\n우선 독립인지 아닌지 체크해보자. \n\n***check: $X_t$와 $X_{t-1}$은 독립??***\n\n- corr이 있음.. $\\Rightarrow$ 독립아님 $\\Rightarrow$ ensemble-average를 time-average로 근사할 수 없다??\n\n---\n\n*참고로 독립이라면~*\n\n---\n\n**시뮬1 -- calculating time average of one-sample $(x_1,\\dots,x_{T})$**\n\n**시뮬2 -- approximating ensemble average with 43052 samples**\n\n근사 되는 것 같은데..?\n\n## 생각의 시간 (2)\n\n`-` 확률변수는 값이 랜덤으로 바뀌는 변수느낌이 아니라 $X: \\Omega \\to \\mathbb{R}$ 인 잴 수 있는 함수임. \n\n`-` 확률벡터는 값이 랜덤으로 바뀌는 벡터느낌이 아니라 $X: \\Omega \\to \\mathbb{R}^d$ 인 잴 수 있는 함수임. \n\n`-` 동전을 반복하여 던져서 관측한 아래와 같은 확률변수열(=확률벡터) \n\n$$0,1,0,0,1,1,\\dots,1$$\n\n은 어떠한 $\\omega \\in \\Omega$에 대응하는 하나의 realization ${\\boldsymbol X}(\\omega)={\\boldsymbol x}$ 임. (즉 one-sample임) \n\n`-` 그런데 확률변수열을 독립으로 얻었다면 이러한 one-sample을 쪼개서 마치 여러개의 샘플을 얻은것처럼 생각할 수 있으며 이때\n\n$$E(X_T)\\approx \\frac{1}{T}\\sum_{t=1}^{T}X_t$$\n\n와 같은 방식으로 근사할 수 있음. \n\n`-` 사실상 $E(X_1)=E(X_2)=\\dots=E(X_T) \\approx \\frac{1}{T}\\sum_{t=1}^{T}X_t$ 이므로 ($\\because$ iid) 결국 아직 관측되지 않은 미래시점 $T+1$의 값에 대해서도 \n\n$$E(X_{T+1}) \\approx \\frac{1}{T}\\sum_{t=1}^T X_t$$ \n\n라고 주장할 수 있음. \n\n`-` 이렇게 one-sample을 여러개의 조각으로 쪼개는 기법은 `iid`에서만 성립할 것 같음. 만약에 `iid`가정이 없다면 (시뮬2)와 같은 방식으로 여러샘플을 통하여 ensemble-average를 근사시켜야 함. 정리하면 아래와 같음. \n\n1. one-sample만 관측가능, iid 조건 만족 $\\Rightarrow$ 분석가능 \n2. 여러개의 sample 관측가능 , iid 조건 만족 $\\Rightarrow$ 분석가능 \n3. one-sample만 관측가능, iid 조건 만족하지 않음 $\\Rightarrow$ 분석불가능??\n4. 여러개의 sample 관측가능 , iid 조건 만족하지 않음 $\\Rightarrow$ 분석가능 \n\n`-` 문제: 그런데 실제로 우리가 다루고 싶은 자료의 형태는 3의 경우가 많다. \n\n`-` 소망: 그래서 `iid`가 아니지만 마치 `iid`인것 처럼 one-sample을 가지고 분석하고 싶다. \n\n> 앞으로 해야 할 것: 독립인듯 독립아닌 독립같은 확률과정은 없을까? \n\n---\n\n***독립인듯 독립아닌 독립같은 확률과정***\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"reference-location":"margin","output-file":"2023-03-30-5wk-1.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.322","theme":"cosmo","code-copy":true,"title-block-banner":false,"cap-location":"margin","citation-location":"margin","bibliography":["../ref.bib","ref.bib"],"title":"05wk-1: 마코프체인 (1)","author":"최규빈","date":"03/30/2023","title-block-style":"none"},"extensions":{"book":{"multiFile":true}}},"ipynb":{"identifier":{"display-name":"Jupyter","target-format":"ipynb","base-format":"ipynb"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"png","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":true,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":false,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"jupyter"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"ipynb","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"default-image-extension":"png","to":"ipynb","reference-location":"margin","output-file":"2023-03-30-5wk-1.ipynb"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"title-block-banner":false,"cap-location":"margin","citation-location":"margin","bibliography":["../ref.bib","ref.bib"],"title":"05wk-1: 마코프체인 (1)","author":"최규빈","date":"03/30/2023","title-block-style":"none"}}},"projectFormats":["html"]}